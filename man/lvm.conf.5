.TH LVM.CONF 5 "LVM TOOLS" "Sistina Software UK" \" -*- nroff -*-
.SH NAME
lvm.conf \- Configuration file for LVM2
.SH SYNOPSIS
.B /etc/lvm/lvm.conf
.SH DESCRIPTION
lvm.conf is read during the initialisation phase of 
\fBlvm\fP.
.LP
.SH SYNTAX

The configuration file uses a simple syntax which this sections
attempts to describe.

The first thing to note is that whitespace is not significant (except
within strings values).  This means that you can format your config
file however you wish, eg, use whatever indentation style suits you,
or split arrays of values across seperate lines.

Comments are treated as whitespace, following the normal unix
convention they begin with a '#' and continue to the end of the
current line.

An informal grammar follows:

.IP
\fBfile = value*\fP
.br
A config file consists of a set of values.

.IP
\fBvalue = section | assignment\fP
.br
A value can either be a new section, or an assignment.

.IP
\fBsection = identifier '{' value* '}'\fP
.br
A section is used to group associated values together.  It is denoted
by a name and some delimiting curly braces.
.br
eg,
.br
backups {
.br
	...
.br
}
.IP
\fBassignment = identifier '=' (array | type)\fP
.br
An assignment is where a name and a type are associated.
.br
eg,
.br
	max_backups = 42
.br
.IP
\fBarray = '[' (type ',')* type ']' | '[' ']'\fP
.br
Inhomogeneous arrays are supported, elements must be seperated by
commas.  An empty array is acceptable.
.IP
\fBtype = integer | float | string\fP
.br
There are three basic types:
.br
.IP
\fBinteger = [0-9]*\fP
.br
Integers are denoted by a series of digits.
.IP
\fBfloat = [0-9]*\.[0-9]*\fP
.br
Floating point numbers are denoted by a series of digits, a decimal
point, and then more digits.
.IP
\fBstring = '"' .* '"'\fP
.br
Strings must be enclosed in double quotes.
.LP
See the example configurations at the end of this man page.

.SH SECTIONS
.LP
The sections that may be present in the file are:
.TP
\fBdevices\fP \(em Device settings
.IP
\fBdir\fP \(em Directory in which to create volume group device nodes.
Defaults to "/dev".
.IP
\fBscan\fP \(em List of directories to scan recursively for 
LVM physical volumes.
Devices in directories outside this hierarchy will be ignored.
Defaults to "/dev".
.IP
\fBfilter\fP \(em List of patterns to apply to devices found by a scan.
Patterns are regular expressions delimited by any character and preceded
by \fBa\fP (for accept) or \fBr\fP (for reject).  The list is traversed
in order, and the first regex that matches determines if the device
will be accepted or rejected (ignored).  Devices that don't match
any patterns are accepted.
For example, to ignore /dev/cdrom you could use:
\fBdevices { filter=["r|cdrom|"] }\fP 
.TP
\fBlog\fP \(em Default log settings
.IP
\fBfile\fP \(em Location of log file.  If this entry is not present, no
log file is written.
.IP
\fBoverwrite\fP \(em Set to 1 to overwrite the log file each time a tool
is invoked.  By default tools append messages to the log file.
.IP
\fBlevel\fP \(em Log level (0-9) of messages to write to the file.
9 is the most verbose; 0 should produce no output.
.IP
\fBverbose\fP \(em Default level (0-3) of messages sent to stdout or stderr.
3 is the most verbose; 0 should produce the least output.
.IP
\fBtest\fP \(em If set to 1, run tools in test mode i.e. no metadata
gets updated.
.TP
\fBbackups\fP \(em Configuration for metadata backups
.IP
\fBdir\fP \(em Directory used for automatic metadata backups.
Defaults to "/etc/lvm/backup".
.IP
\fBkeep\fP \(em Minimum number of backups to keep.
Defaults to 10.
.IP
\fBdays\fP \(em Minimum number of days to keep backup files.
Defaults to 14.
.IP
\fBauto\fP \(em Whether or not tools make automatic backups after changing
metadata.  Default is 1 (automatic backups enabled).  Set to 0 to disable.
.TP
\fBshell\fP \(em LVM2 built-in readline shell settings
.IP
\fBhistory_size\fP \(em Maximum number of lines of shell history to retain (default 100) in $HOME/.lvm_history
.SH FILES
.I /etc/lvm/lvm.conf
.br
.I $HOME/.lvm_history
.fi
.SH SEE ALSO
.BR lvm(8)
